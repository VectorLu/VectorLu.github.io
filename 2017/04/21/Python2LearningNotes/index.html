<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans,en,default">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Python2," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="《Python 基础教程》学习笔记，要点整理。">
<meta property="og:type" content="article">
<meta property="og:title" content="Python2 学习笔记">
<meta property="og:url" content="http://vectorlu.com/2017/04/21/Python2LearningNotes/index.html">
<meta property="og:site_name" content="VectorLu">
<meta property="og:description" content="《Python 基础教程》学习笔记，要点整理。">
<meta property="og:updated_time" content="2017-04-25T15:11:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python2 学习笔记">
<meta name="twitter:description" content="《Python 基础教程》学习笔记，要点整理。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":5},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://vectorlu.com/2017/04/21/Python2LearningNotes/"/>





  <title> Python2 学习笔记 | VectorLu </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">VectorLu</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Rooting Life</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      

        <li> <a title="把这个链接拖到你的Chrome收藏夹工具栏中" href='javascript:(function() {
            function c() {
                var e = document.createElement("link");
                e.setAttribute("type", "text/css");
                e.setAttribute("rel", "stylesheet");
                e.setAttribute("href", f);
                e.setAttribute("class", l);
                document.body.appendChild(e)
            }

            function h() {
                var e = document.getElementsByClassName(l);
                for (var t = 0; t < e.length; t++) {
                    document.body.removeChild(e[t])
                }
            }

            function p() {
                var e = document.createElement("div");
                e.setAttribute("class", a);
                document.body.appendChild(e);
                setTimeout(function() {
                    document.body.removeChild(e)
                }, 100)
            }

            function d(e) {
                return {
                    height : e.offsetHeight,
                    width : e.offsetWidth
                }
            }

            function v(i) {
                var s = d(i);
                return s.height > e && s.height < n && s.width > t && s.width < r
            }

            function m(e) {
                var t = e;
                var n = 0;
                while (!!t) {
                    n += t.offsetTop;
                    t = t.offsetParent
                }
                return n
            }

            function g() {
                var e = document.documentElement;
                if (!!window.innerWidth) {
                    return window.innerHeight
                } else if (e && !isNaN(e.clientHeight)) {
                    return e.clientHeight
                }
                return 0
            }

            function y() {
                if (window.pageYOffset) {
                    return window.pageYOffset
                }
                return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
            }

            function E(e) {
                var t = m(e);
                return t >= w && t <= b + w
            }

            function S() {
                var e = document.createElement("audio");
                e.setAttribute("class", l);
                e.src = i;
                e.loop = false;
                e.addEventListener("canplay", function() {
                    setTimeout(function() {
                        x(k)
                    }, 500);
                    setTimeout(function() {
                        N();
                        p();
                        for (var e = 0; e < O.length; e++) {
                            T(O[e])
                        }
                    }, 15500)
                }, true);
                e.addEventListener("ended", function() {
                    N();
                    h()
                }, true);
                e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
                document.body.appendChild(e);
                e.play()
            }

            function x(e) {
                e.className += " " + s + " " + o
            }

            function T(e) {
                e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
            }

            function N() {
                var e = document.getElementsByClassName(s);
                var t = new RegExp("\\b" + s + "\\b");
                for (var n = 0; n < e.length; ) {
                    e[n].className = e[n].className.replace(t, "")
                }
            }

            var e = 30;
            var t = 30;
            var n = 350;
            var r = 350;
            var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
            var s = "mw-harlem_shake_me";
            var o = "im_first";
            var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
            var a = "mw-strobe_light";
            var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
            var l = "mw_added_css";
            var b = g();
            var w = y();
            var C = document.getElementsByTagName("*");
            var k = null;
            for (var L = 0; L < C.length; L++) {
                var A = C[L];
                if (v(A)) {
                    if (E(A)) {
                        k = A;
                        break
                    }
                }
            }
            if (A === null) {
                console.warn("Could not find a node of the right size. Please try a different page.");
                return
            }
            c();
            S();
            var O = [];
            for (var L = 0; L < C.length; L++) {
                var A = C[L];
                if (v(A)) {
                    O.push(A)
                }
            }
        })()    '>High一下</a> </li>
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://vectorlu.com/2017/04/21/Python2LearningNotes/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="VectorLu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="VectorLu">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="VectorLu" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Python2 学习笔记
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-04-21T00:30:56+08:00">
                2017-04-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS-Basic/" itemprop="url" rel="index">
                    <span itemprop="name">CS Basic</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/04/21/Python2LearningNotes/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/04/21/Python2LearningNotes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>《Python 基础教程》学习笔记，要点整理。</p>
<a id="more"></a>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=459555084&auto=0&height=66"></iframe>

<h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><p>3.0 之前的 Python 的除法，<code>/</code> 结果与精度较高的操作数相同：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="number">1</span>/<span class="number">2</span></div><div class="line"><span class="number">0</span></div></pre></td></tr></table></figure>
<p>或者：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; from __future_<span class="number">_</span> import division</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="number">1</span> / <span class="number">2</span></div><div class="line"><span class="number">0</span>.<span class="number">5</span></div></pre></td></tr></table></figure>
<p><code>round()</code> 四舍五入为最接近的整数。</p>
<p><code>floor()</code> 向下取整的函数，<code>ceil()</code> 向上取整：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="selector-tag">import</span> <span class="selector-tag">math</span></div><div class="line">&gt;&gt;&gt; <span class="selector-tag">math</span><span class="selector-class">.floor</span>(32<span class="selector-class">.9</span>)</div><div class="line">32<span class="selector-class">.0</span></div><div class="line">&gt;&gt;&gt; <span class="selector-tag">math</span><span class="selector-class">.ceil</span>(32<span class="selector-class">.9</span>)</div><div class="line">33<span class="selector-class">.0</span></div></pre></td></tr></table></figure>
<p>Python2 对于虚数的支持：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; import cmath</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; cmath.sqrt(-<span class="number">1</span>)</div><div class="line"><span class="number">1</span>j</div></pre></td></tr></table></figure>
<p>即使不导入 <code>cmath</code> 模块，Python2 也是支持虚数运算的：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; (<span class="number">1</span>+<span class="number">3</span>j)*(<span class="number">9</span>+<span class="number">4</span>j)</div><div class="line">(<span class="number">-3</span>+<span class="number">31</span>j)</div></pre></td></tr></table></figure>
<h2 id="保存并执行程序"><a href="#保存并执行程序" class="headerlink" title="保存并执行程序"></a>保存并执行程序</h2><h3 id="用命令行执行-Python-脚本"><a href="#用命令行执行-Python-脚本" class="headerlink" title="用命令行执行 Python 脚本"></a>用命令行执行 Python 脚本</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>python2 filename.py</div></pre></td></tr></table></figure>
<p>如果你有多个版本的 Python，最好强调一下 Python 的版本究竟是 <code>python2</code> 还是 <code>python3</code></p>
<h3 id="让脚本像普通程序一样运行"><a href="#让脚本像普通程序一样运行" class="headerlink" title="让脚本像普通程序一样运行"></a>让脚本像普通程序一样运行</h3><p>如果希望运行普通程序一样运行 Python 脚本，在类 Unix 系统下，在代码的首行加入：</p>
<figure class="highlight d"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env python2</span></div></pre></td></tr></table></figure>
<p>在实际运行脚本之前，必须让脚本文件拥有可执行的属性，在命令行中首先：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>chmod a+x helloPython2.py</div></pre></td></tr></table></figure>
<p>然后就可以像执行普通程序一样执行它了：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>helloPython2.py</div></pre></td></tr></table></figure>
<p>如果执行不了的话，就试试：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>./helloPython2.py</div></pre></td></tr></table></figure>
<p>甚至可以重命名程序，去掉 <code>.py</code>，执行：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>./hello</div></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p><code>repr</code> 会创建一个字符串，它以合法的 Python 表达式的形式来表示值。<code>repr(x)</code> 的功能也可以用一对反引号实现：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">repr</span><span class="params">(x)</span></span> == `x`</div></pre></td></tr></table></figure>
<p>具体实例如下：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; temp = <span class="number">42</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print <span class="string">"The temperature is "</span> + temp</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">TypeError:</span> cannot concatenate <span class="string">'str'</span> <span class="keyword">and</span> <span class="string">'int'</span> objects</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print <span class="string">"The temperature is "</span> + <span class="string">`temp`</span></div><div class="line">The temperature is <span class="number">42</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print <span class="string">"The temperature is "</span> + repr(temp)</div><div class="line">The temperature is <span class="number">42</span></div></pre></td></tr></table></figure>
<p><strong>不过 Python3.0 之后就不再用反引号了，因此，即使在旧代码中看到了反引号，也应该坚持用</strong> <code>repr()</code>。</p>
<h3 id="input-与-raw-input"><a href="#input-与-raw-input" class="headerlink" title="input() 与 raw_input()"></a><code>input()</code> 与 <code>raw_input()</code></h3><p><code>input()</code> 会假设用户输入的是合法的 Python 表达式：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; name = input(<span class="string">'What is your name?\n'</span>)</div><div class="line">What is your name?</div><div class="line">Vector</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line">  File <span class="string">"&lt;string&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">NameError:</span> name <span class="string">'Vector'</span> is <span class="keyword">not</span> <span class="keyword">defined</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; name = input(<span class="string">'What is your name?\n'</span>)</div><div class="line">What is your name?</div><div class="line"><span class="string">"Vector"</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; name</div><div class="line"><span class="string">'Vector'</span></div></pre></td></tr></table></figure>
<p>要求用户带着引号输入他们的名字有点过分，因此，这就需要使用 <code>raw_input()</code>，它会把所有的输入当作原始数据，然后将其放入字符串中：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; name = raw_input(<span class="string">"What is your name? "</span>)</div><div class="line">What is your name? Vector</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; name</div><div class="line"><span class="string">'Vector'</span></div></pre></td></tr></table></figure>
<blockquote>
<p>在 Python 3.0 之后：</p>
</blockquote>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="built_in">name</span> = input('What <span class="keyword">is</span> your <span class="built_in">name</span>?\n')</div><div class="line">What <span class="keyword">is</span> your <span class="built_in">name</span>?</div><div class="line">Vector</div><div class="line">&gt;&gt;&gt; <span class="built_in">name</span></div><div class="line">'Vector'</div></pre></td></tr></table></figure>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="通用序列操作"><a href="#通用序列操作" class="headerlink" title="通用序列操作"></a>通用序列操作</h2><h3 id="分片"><a href="#分片" class="headerlink" title="分片"></a>分片</h3><p>步长不可以是 <code>0</code>，但步长可以是负数，即从右往左提取元素：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; numbers = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; numbers[<span class="number">8</span><span class="symbol">:</span><span class="number">3</span><span class="symbol">:-</span><span class="number">1</span>]</div><div class="line">[<span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; numbers[<span class="symbol">:</span><span class="symbol">:-</span><span class="number">1</span>]</div><div class="line">[<span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; numbers[<span class="symbol">:</span><span class="symbol">:-</span><span class="number">2</span>]</div><div class="line">[<span class="number">9</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>]</div></pre></td></tr></table></figure>
<p>对于一个正数步长，Python 会从序列的头部开始向右提取元素（无论始末的索引是正数还是负数），直到最后一个元素（不包括）；而对于负数步长，则是从序列的尾部开始向左提取元素，直到第一个元素（不包括）。</p>
<h3 id="相加"><a href="#相加" class="headerlink" title="相加"></a>相加</h3><h3 id="相乘"><a href="#相乘" class="headerlink" title="相乘"></a>相乘</h3><h3 id="in-判断"><a href="#in-判断" class="headerlink" title="in 判断"></a><code>in</code> 判断</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>permissions = <span class="string">'rw'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'w'</span> <span class="keyword">in</span> permissions</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'x'</span> <span class="keyword">in</span> permissions</div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>subject = <span class="string">'$$$ Get rich now!!! $$$'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'$$$'</span> <span class="keyword">in</span> subject</div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
<p>前两个例子测试了 ‘w’ 和 ‘x’ 是否在字符串 <code>permissions</code> 中。在类 UNIX 系统中，这两行代码可以作为查看文件可写和可执行权限的脚本。最后一个例子可以作为垃圾邮件过滤器的一部分。</p>
<h3 id="长度，最大值，最小值"><a href="#长度，最大值，最小值" class="headerlink" title="长度，最大值，最小值"></a>长度，最大值，最小值</h3><p><code>len()</code>, <code>max()</code>, <code>min()</code></p>
<h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p><code>pop()</code> 是唯一一个既能修改列表又能返回除了 <code>None</code> 之外的值的方法。</p>
<h1 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h1><h2 id="字符串格式化"><a href="#字符串格式化" class="headerlink" title="字符串格式化"></a>字符串格式化</h2><p>如果右操作数是远足，其中每一个元素都会被单独格式化，每个值都需要一个对应的转换说明符。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'%s plus %s equals %s'</span> % (<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</div><div class="line"><span class="string">'1 plus 1 equals 2'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'%s plus %s equals %s'</span> % <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">TypeError:</span> <span class="keyword">not</span> enough arguments <span class="keyword">for</span> format string</div></pre></td></tr></table></figure>
<h2 id="常用字符串方法"><a href="#常用字符串方法" class="headerlink" title="常用字符串方法"></a>常用字符串方法</h2><h3 id="find-方法"><a href="#find-方法" class="headerlink" title="find() 方法"></a><code>find()</code> 方法</h3><p><code>find()</code> 可以在一个较长的字符串中查找子串，返回子串所在位置的最左端索引。如果没有找到则返回 <code>-1</code>。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'With a moo-moo here, and a moo-moo there'</span>.find(<span class="string">'moo'</span>)</div><div class="line"><span class="number">7</span></div></pre></td></tr></table></figure>
<p><strong>注意：<code>find()</code> 并不返回 <code>boolean</code> 值，如果返回 <code>0</code>，即在字符串开始处找到子串。</strong></p>
<h3 id="join-方法"><a href="#join-方法" class="headerlink" title="join() 方法"></a><code>join()</code> 方法</h3><p>需要添加的队列元素都必须是字符串：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; numSeqence = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; sep = <span class="string">'+'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; sep.join(numSeqence) <span class="comment"># 连接数字列表</span></div><div class="line"></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">TypeError:</span> sequence item <span class="number">0</span>: expected string, int found</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; strSequence = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; seq = <span class="string">'+'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; seq.join(strSequence)</div><div class="line"><span class="string">'1+2+3+4+5'</span></div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; dirs = <span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; dirs</div><div class="line">(<span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'/'</span>.join(dirs)</div><div class="line"><span class="string">'/usr/bin/env'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print <span class="string">'C:'</span> + <span class="string">'\\'</span>.join(dirs)</div><div class="line"><span class="symbol">C:</span>\usr\bin\env</div></pre></td></tr></table></figure>
<h3 id="split-方法"><a href="#split-方法" class="headerlink" title="split() 方法"></a><code>split()</code> 方法</h3><p><code>join()</code> 的逆方法，将字符串分割成序列。不提供分隔符时，将所有空格作为分隔符。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'1+2+3+4+5'</span>.split(<span class="string">'+'</span>)</div><div class="line">[<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'/usr/bin/env'</span>.split(<span class="string">'/'</span>)</div><div class="line">[<span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'Using the default'</span>.split()</div><div class="line">[<span class="string">'Using'</span>, <span class="string">'the'</span>, <span class="string">'default'</span>]</div></pre></td></tr></table></figure>
<p>###<code>replace()</code> 方法<br>返回某字符串的所有匹配项均被替换之后得到字符串。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'This is a test'</span>.replace(<span class="string">'is'</span>, <span class="string">'eez'</span>)</div><div class="line"><span class="string">'Theez eez a test'</span></div></pre></td></tr></table></figure>
<h3 id="strip-方法"><a href="#strip-方法" class="headerlink" title="strip() 方法"></a><code>strip()</code> 方法</h3><p>返回去除两侧（不包括内部）空格的字符串，它和 <code>lower()</code> 一起使用的话就可以很方便地对比输入的和存储的值。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; names = [<span class="string">'gumby'</span>, <span class="string">'smith'</span>, <span class="string">'jones'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; name = <span class="string">'Gumby'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; name = <span class="string">'Gumby '</span></div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; if name.lower().strip() in <span class="symbol">names:</span> print <span class="string">'Found it!'</span></div><div class="line">...</div><div class="line">Found it!</div></pre></td></tr></table></figure>
<p>也可以去掉指定的字符，列为参数即可：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'*** SPAM * for * everyone!!! ***'</span>.strip(<span class="string">' *!'</span>)</div><div class="line"><span class="string">'SPAM * for * everyone'</span></div></pre></td></tr></table></figure>
<h1 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h1><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="字典的格式化字符串"><a href="#字典的格式化字符串" class="headerlink" title="字典的格式化字符串"></a>字典的格式化字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">template = <span class="string">'''&lt;html&gt;</span></div><div class="line">    &lt;head&gt;&lt;title&gt;%(title)s&lt;/title&gt;&lt;/head&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">    &lt;h1&gt;%(title)s&lt;/h1&gt;</div><div class="line">    &lt;p&gt;%(text)s&lt;/p&gt;</div><div class="line">    &lt;/body&gt;'''</div><div class="line">data = &#123;<span class="string">'title'</span>: <span class="string">'My Home Page'</span>, <span class="string">'text'</span>: <span class="string">'Welcome to my home page!'</span>&#125;</div><div class="line"><span class="keyword">print</span> template % data</div></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ python2 dataStructures.py</div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>My Home Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>My Home Page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome to my home page!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="clear-方法"><a href="#clear-方法" class="headerlink" title="clear() 方法"></a><code>clear()</code> 方法</h3><p>清空字典</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'name'</span>] = <span class="string">'Gumby'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'age'</span>] = <span class="number">42</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'age'</span>: <span class="number">42</span>, <span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; returned_value = d.clear()</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print returned_value</div><div class="line">None</div></pre></td></tr></table></figure>
<h3 id="copy-方法"><a href="#copy-方法" class="headerlink" title="copy() 方法"></a><code>copy()</code> 方法</h3><p>浅拷贝，深拷贝要 <code>from copy import deepcopy</code></p>
<h3 id="fromkeys-方法"><a href="#fromkeys-方法" class="headerlink" title="fromkeys() 方法"></a><code>fromkeys()</code> 方法</h3><p>使用给定的键建立新字典，每个键默认的对应值是 <code>None</code>，或者自己提供默认值：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; dict.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>])</div><div class="line">&#123;<span class="string">'age'</span>: None, <span class="string">'name'</span>: None&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; dict.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>], <span class="string">'(unknow)'</span>)</div><div class="line">&#123;<span class="string">'age'</span>: <span class="string">'(unknow)'</span>, <span class="string">'name'</span>: <span class="string">'(unknow)'</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="get-和-setdefault"><a href="#get-和-setdefault" class="headerlink" title="get() 和 setdefault()"></a><code>get()</code> 和 <code>setdefault()</code></h3><p>当使用 <code>get()</code> 访问一个不存在的键时，没有任何异常，而得到了 <code>None</code> 值。还可以自定义 “默认”值，替换 <code>None</code>。如果键存在，就像普通的字典查询一样：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print d[<span class="string">'name'</span>]</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">KeyError:</span> <span class="string">'name'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; print d.get(<span class="string">'name'</span>)</div><div class="line">None</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.get(<span class="string">'name'</span>, <span class="string">'N/A'</span>)</div><div class="line"><span class="string">'N/A'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'name'</span>] = <span class="string">'Eric'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.get(<span class="string">'name'</span>)</div><div class="line"><span class="string">'Eric'</span></div></pre></td></tr></table></figure>
<p><code>setdefault()</code> 类似于 <code>get()</code>，如果字典不含给定键，可以设定相应的键值。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.setdefault(<span class="string">'name'</span>, <span class="string">'N/A'</span>)</div><div class="line"><span class="string">'N/A'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'name'</span>: <span class="string">'N/A'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'name'</span>] = <span class="string">'Gumby'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.setdefault(<span class="string">'name'</span>, <span class="string">'N/A'</span>)</div><div class="line"><span class="string">'Gumby'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="items-和-iteritems"><a href="#items-和-iteritems" class="headerlink" title="items() 和 iteritems()"></a><code>items()</code> 和 <code>iteritems()</code></h3><p>后者往往更加高效：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;<span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.items()</div><div class="line">[(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>), (<span class="string">'spam'</span>, <span class="number">0</span>), (<span class="string">'title'</span>, <span class="string">'Python Web Site'</span>)]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; it = d.iteritems()</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; it</div><div class="line">&lt;dictionary-itemiterator object at <span class="number">0x10f735cb0</span>&gt;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; for i in <span class="symbol">it:</span></div><div class="line">...     print(i)</div><div class="line">...</div><div class="line">(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>)</div><div class="line">(<span class="string">'spam'</span>, <span class="number">0</span>)</div><div class="line">(<span class="string">'title'</span>, <span class="string">'Python Web Site'</span>)</div></pre></td></tr></table></figure>
<p>与之对应的还有 <code>keys()</code> 和 <code>iterkeys()</code>，<code>values()</code> 和 <code>itervalues()</code>。</p>
<h3 id="pop-和-popitem"><a href="#pop-和-popitem" class="headerlink" title="pop() 和 popitem()"></a><code>pop()</code> 和 <code>popitem()</code></h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;<span class="string">'a'</span><span class="symbol">:</span><span class="number">1</span>, <span class="string">'b'</span><span class="symbol">:</span><span class="number">2</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.pop(<span class="string">'a'</span>)</div><div class="line"><span class="number">1</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'b'</span>: <span class="number">2</span>&#125;</div></pre></td></tr></table></figure>
<p><code>popitem()</code> 会随机弹出一个元素。</p>
<h3 id="update-方法"><a href="#update-方法" class="headerlink" title="update() 方法"></a><code>update()</code> 方法</h3><p>提供的字典项中的项会被添加到原来的字典中，如果有相同的键则会覆盖。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;<span class="string">'a'</span><span class="symbol">:</span><span class="number">1</span>, <span class="string">'b'</span><span class="symbol">:</span><span class="number">2</span>, <span class="string">'c'</span><span class="symbol">:</span><span class="number">3</span>&#125;</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; new = &#123;<span class="string">'c'</span><span class="symbol">:</span><span class="number">99</span>, <span class="string">'d'</span><span class="symbol">:</span><span class="number">100</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.update(new)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'c'</span>: <span class="number">99</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'d'</span>: <span class="number">100</span>&#125;</div></pre></td></tr></table></figure>
<h1 id="条件、循环和其他语句"><a href="#条件、循环和其他语句" class="headerlink" title="条件、循环和其他语句"></a>条件、循环和其他语句</h1><h2 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h2><figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> somemodule</div><div class="line"><span class="title">from</span> somemodule <span class="keyword">import</span> somefunction</div><div class="line"><span class="title">from</span> somemodule <span class="keyword">import</span> somefunction, anotherfunction, yetanotherfunction</div><div class="line"><span class="title">from</span> somemodule <span class="keyword">import</span> *</div></pre></td></tr></table></figure>
<p>只有确定自己想要从给定的模块中导入所有功能时，才应该使用最后一个版本。但是如果两个模块都有 <code>open()</code>，只需用第一种方法导入，然后：</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">module1.<span class="built_in">open</span>(...)</div><div class="line">module2.<span class="built_in">open</span>(...)</div></pre></td></tr></table></figure>
<p>但是还可以在语句末尾增加 <code>as</code> 子句，在该子句后给出名字，或为整个模块提供别名：</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> math <span class="keyword">as</span> foobar</div><div class="line">a = foobar.<span class="built_in">sqrt</span>(<span class="number">4</span>)</div></pre></td></tr></table></figure>
<p>也可以为函数提供别名：</p>
<figure class="highlight capnproto"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> module1 <span class="keyword">import</span> open <span class="keyword">as</span> open1</div><div class="line"><span class="keyword">from</span> module2 <span class="keyword">import</span> open <span class="keyword">as</span> open2</div></pre></td></tr></table></figure>
<h2 id="赋值魔法"><a href="#赋值魔法" class="headerlink" title="赋值魔法"></a>赋值魔法</h2><h3 id="序列解包"><a href="#序列解包" class="headerlink" title="序列解包"></a>序列解包</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; x, y, z = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; x, y = y, x</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; x</div><div class="line"><span class="number">2</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; y</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure>
<p>事实上，这里所做的事情叫做 <em>序列解包 (sequence unpacking)</em>——将多个值的序列解开，然后放到变量的序列中。更形象一点地表示出来就是：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; values = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; values</div><div class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; x, y, z = values</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; x</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure>
<p>当函数或者方法返回元组（或者其他序列或可迭代对象）时，这个特性尤其有用：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;<span class="string">'name'</span>: <span class="string">'Robin'</span>, <span class="string">'girlfriend'</span>: <span class="string">'Marion'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; key, value = d.popitem()</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; key</div><div class="line"><span class="string">'girlfriend'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; value</div><div class="line"><span class="string">'Marion'</span></div></pre></td></tr></table></figure>
<p>它允许函数返回一个以上的值并且打包成元组，然后通过一个赋值语句很容易进行访问。所解包的序列中的元素数量必须和放置在赋值符号 <code>=</code> 左边的变量数量完全一致，否则 Python 会在赋值时引发异常：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="keyword">x</span>, <span class="keyword">y</span>, <span class="keyword">z</span> = <span class="number">1</span>, <span class="number">2</span></div><div class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, <span class="built_in">line</span> <span class="number">1</span>, in <span class="symbol">&lt;module&gt;</span></div><div class="line">ValueError: not enough <span class="built_in">values</span> <span class="keyword">to</span> unpack (expected <span class="number">3</span>, got <span class="number">2</span></div><div class="line">)</div><div class="line">&gt;&gt;&gt; <span class="keyword">x</span>, <span class="keyword">y</span> = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></div><div class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, <span class="built_in">line</span> <span class="number">1</span>, in <span class="symbol">&lt;module&gt;</span></div><div class="line">ValueError: too many <span class="built_in">values</span> <span class="keyword">to</span> unpack (expected <span class="number">2</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>注意：Python3 有另外一个解包的特性，可以像函数的参数列表一样使用星号运算符。</p>
</blockquote>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a, b, *rest = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">&gt;&gt;&gt; rest</div><div class="line">[<span class="number">3</span>, <span class="number">4</span>]</div><div class="line">&gt;&gt;&gt; *rest, a, b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">&gt;&gt;&gt; rest</div><div class="line">[<span class="number">1</span>, <span class="number">2</span>]</div><div class="line">&gt;&gt;&gt; a</div><div class="line"><span class="number">3</span></div><div class="line">&gt;&gt;&gt; b</div><div class="line"><span class="number">4</span></div></pre></td></tr></table></figure>
<h2 id="条件和条件语句"><a href="#条件和条件语句" class="headerlink" title="条件和条件语句"></a>条件和条件语句</h2><p>下面这些值在作为布尔表达式时，会被解释器看作 <code>False</code>：</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">False</span></div><div class="line"><span class="keyword">None</span></div><div class="line"><span class="number">0</span> # 所有类型的数字 <span class="number">0</span>，包括浮点型，长整型等</div><div class="line"><span class="string">""</span></div><div class="line">()</div><div class="line">[]</div><div class="line">&#123;&#125;</div></pre></td></tr></table></figure>
<p>尽管上述都被认为是假值，也就是说 <code>bool([]) == bool(&quot;&quot;)</code>，</p>
<p><strong>避免将 <code>is</code> 运算符用于比较类似数值和字符串这类不可变值，由于 Python 内部操作这些对象的方式的原因，使用 <code>is</code> 运算符的结果是不可预测的。</strong></p>
<h2 id="一些迭代工具"><a href="#一些迭代工具" class="headerlink" title="一些迭代工具"></a>一些迭代工具</h2><h3 id="并行迭代"><a href="#并行迭代" class="headerlink" title="并行迭代"></a>并行迭代</h3><p>内建的 <code>zip()</code> 可以用来进行并行迭代，可以把两个序列“压缩”在一起，然后返回一个元组的列表：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; names = [<span class="string">'anne'</span>, <span class="string">'beth'</span>, <span class="string">'george'</span>, <span class="string">'damon'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; ages = [<span class="number">12</span>, <span class="number">45</span>, <span class="number">32</span>, <span class="number">102</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; zip(names, ages)</div><div class="line">[(<span class="string">'anne'</span>, <span class="number">12</span>), (<span class="string">'beth'</span>, <span class="number">45</span>), (<span class="string">'george'</span>, <span class="number">32</span>), (<span class="string">'damon'</span>, <span class="number">102</span>)]</div></pre></td></tr></table></figure>
<p><code>zip()</code> 可以作用于任意多的序列，并且可以应付不等长的序列——当最短的序列“用完”的时候就会停止。</p>
<h3 id="编号迭代"><a href="#编号迭代" class="headerlink" title="编号迭代"></a>编号迭代</h3><p><code>enumerate()</code> 可以在提供索引的地方迭代索引－值对，比如下面这个简化的屏蔽关键字的程序片段：</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> <span class="keyword">index</span>, <span class="keyword">string</span> <span class="keyword">in</span> enumerate(strings):</div><div class="line">    <span class="keyword">if</span> <span class="string">'xxx'</span> <span class="keyword">in</span> <span class="keyword">string</span>:</div><div class="line">        strings[<span class="keyword">index</span>] = <span class="string">'[censores]'</span></div></pre></td></tr></table></figure>
<h3 id="翻转和排序迭代"><a href="#翻转和排序迭代" class="headerlink" title="翻转和排序迭代"></a>翻转和排序迭代</h3><p><code>reversed()</code> 和 <code>sorted()</code> 同列表的 <code>reverse()</code> 和 <code>sort()</code> 方法类似，但作用于任何序列或可迭代对象上，不是原地修改对象，而是返回翻转或排序后的版本。<code>sorted()</code> 返回列表，<code>reversed()</code> 返回一个可迭代对象。</p>
<h2 id="使用-break"><a href="#使用-break" class="headerlink" title="使用 break"></a>使用 <code>break</code></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">    word = raw_input(<span class="string">'Please enter a word: '</span>)</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> word: <span class="keyword">break</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'The word was '</span> + word</div></pre></td></tr></table></figure>
<h2 id="循环中的-else-子句"><a href="#循环中的-else-子句" class="headerlink" title="循环中的 else 子句"></a>循环中的 <code>else</code> 子句</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">from math <span class="keyword">import</span> <span class="built_in">sqrt</span></div><div class="line"><span class="built_in">for</span> n in range(<span class="number">99</span>, <span class="number">81</span>, <span class="number">-1</span>):</div><div class="line">    root == <span class="built_in">sqrt</span>(n)</div><div class="line">    <span class="built_in">if</span> root == <span class="keyword">int</span>(root):</div><div class="line">        <span class="built_in">print</span> n</div><div class="line">        <span class="built_in">break</span></div><div class="line"><span class="built_in">else</span>:</div><div class="line">    <span class="built_in">print</span> <span class="string">"Didn't find it"</span></div></pre></td></tr></table></figure>
<h2 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">girls = [<span class="string">'alice'</span>, <span class="string">'bernice'</span>, <span class="string">'clarice'</span>]</div><div class="line">boys = [<span class="string">'chris'</span>, <span class="string">'arnold'</span>, <span class="string">'bob'</span>]</div><div class="line">sameFirst = [<span class="selector-tag">b</span> + <span class="string">'+'</span> + g <span class="keyword">for</span> <span class="selector-tag">b</span> <span class="keyword">in</span> boys <span class="keyword">for</span> g <span class="keyword">in</span> girls <span class="keyword">if</span> <span class="selector-tag">b</span>[<span class="number">0</span>] == g[<span class="number">0</span>]]</div></pre></td></tr></table></figure>
<p>得到那些名字中的首字母相同的男孩和女孩。</p>
<p>由于它会检查每个可能的配对，这个方法效率不高，有一个更高效的方法。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">girls = [<span class="string">'alice'</span>, <span class="string">'bernice'</span>, <span class="string">'clarice'</span>]</div><div class="line">boys = [<span class="string">'chris'</span>, <span class="string">'arnold'</span>, <span class="string">'bob'</span>]</div><div class="line">letterGirls = &#123;&#125;</div><div class="line"><span class="keyword">for</span> girl <span class="keyword">in</span> girls:</div><div class="line">    letterGirls.setdefault(girl[<span class="number">0</span>], []).append(girl)</div><div class="line">print [<span class="selector-tag">b</span> + <span class="string">'+'</span> + g <span class="keyword">for</span> <span class="selector-tag">b</span> <span class="keyword">in</span> boys <span class="keyword">for</span> g <span class="keyword">in</span> letterGirls[<span class="selector-tag">b</span>[<span class="number">0</span>]]]</div></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>使用 <code>del</code> 语句不仅会移除一个对象的引用，也会移除那个名字本身。在 Python 中是没有办法删除值的，Python 解释器会用垃圾回收收回内存。</p>
<h2 id="执行和求值字符串"><a href="#执行和求值字符串" class="headerlink" title="执行和求值字符串"></a>执行和求值字符串</h2><p>执行一个字符串的语句是 <code>exec</code>（在 Python3.0 之后，<code>exec()</code> 是一个函数而不是语句）：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; exec <span class="string">"print 'Hello world!'"</span></div><div class="line">Hello world!</div></pre></td></tr></table></figure>
<p>为了安全起见，可以增加一个字典，起到命名空间的作用。可以通过增加 <code>in scope</code> 来实现：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; from math import sqrt</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; scope = &#123;&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; exec <span class="string">'sqrt = 1'</span> in scope</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; sqrt(<span class="number">4</span>)</div><div class="line"><span class="number">2.0</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; scope[<span class="string">'sqrt'</span>]</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure>
<p>这样，潜在的破坏性代码并不会覆盖 <code>sqrt()</code>，原来的函数依然可以正常工作，而通过 <code>exec</code> 赋值的变量 <code>sqrt</code> 只在它的作用域内有效。</p>
<p><code>eval()</code> 会计算 Python 表达式（以字符串形式书写），并且返回结果值：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; eval(raw_input(<span class="string">"Enter an arithmetic expression: "</span>))</div><div class="line">Enter an arithmetic <span class="symbol">expression:</span> <span class="number">6</span> + <span class="number">18</span> * <span class="number">2</span></div><div class="line"><span class="number">42</span></div></pre></td></tr></table></figure>
<h1 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h1><p>内建的 <code>callable()</code> 可以用来判断函数是否可调用：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; import math</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; x = <span class="number">1</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; y = math.sqrt</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; callable(x)</div><div class="line">False</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; callable(y)</div><div class="line">True</div></pre></td></tr></table></figure>
<blockquote>
<p>在 Python3.0 之后，<code>callable()</code> 不再可用，需要用表达式 <code>hasattr(func, __call__)</code></p>
</blockquote>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>如果的确需要的话，可以用 <code>globals()[&#39;globalParamName&#39;]</code> 来获取全局变量值，该函数的近亲是 <code>vars()</code>，可以返回全局变量的字典（<code>locals()</code> 返回局部变量的字典）。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="function"><span class="keyword">def</span> <span class="title">combine</span><span class="params">(parameter)</span></span>:</div><div class="line">...     print parameter + globals()[<span class="string">'parameter'</span>]</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; parameter = <span class="string">'berry'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; combine(<span class="string">'Shrub'</span>)</div><div class="line">Shrubberry</div></pre></td></tr></table></figure>
<p><code>global x</code> 告诉 Python <code>x</code> 是一个全局变量。</p>
<h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; map(str, range(<span class="number">10</span>)) <span class="comment"># Equivalent to [str(i) for i in r</span></div><div class="line">ange(<span class="number">10</span>)]</div><div class="line">[<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; seq = [<span class="string">'foo'</span>, <span class="string">'x41'</span>, <span class="string">'?!'</span>, <span class="string">'***'</span>]</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; [x for x in seq if x.isalnum()]</div><div class="line">[<span class="string">'foo'</span>, <span class="string">'x41'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; filter(lambda <span class="symbol">x:</span> x.isalnum(), seq)</div><div class="line">[<span class="string">'foo'</span>, <span class="string">'x41'</span>]</div></pre></td></tr></table></figure>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>面向对象最重要的优点：</p>
<ol>
<li>继承 <em>Inheritance</em>：以普通的类为基础建立专门的类对象。</li>
<li>封装 <em>Encapsulation</em>：对外部世界隐藏对象的工作细节。</li>
<li>多态 <em>Polimorphism</em>：可以对不同类的对象使用同样的操作。</li>
</ol>
<p>前面带有下划线的名字都不会被带星号的 <code>import</code> 语句 <code>from module import *</code> 导入。</p>
<p>子类可以将超类更加具体化，将其他类名写在 <code>class</code> 语句后的圆括号内可以指定超类：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Filter</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">self</span>.blocked = []</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">filter</span><span class="params">(<span class="keyword">self</span>, sequence)</span></span>:</div><div class="line">        <span class="keyword">return</span> [x <span class="keyword">for</span> x <span class="keyword">in</span> sequence <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="keyword">self</span>.blocked]</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SPAMFilter</span>(<span class="title">Filter</span>):</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">self</span>.blocked = [<span class="string">'SPAM'</span>]</div></pre></td></tr></table></figure>
<p>查看一个类是否是另一个的子类，可以使用内建的 <code>issubclass()</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; issubclass(SPAMFilter, Filter)</div><div class="line">True</div><div class="line"><span class="meta">&gt;&gt;</span>&gt;issubclass(Filter, SPAMFilter)</div><div class="line">False</div></pre></td></tr></table></figure>
<p>用特殊属性 <code>__bases__</code> 来查看已知类的基类们。<br>如果使用 <code>__metaclass__ = type</code> 或从 <code>object</code> 继承的方式来定义新式类，那么可以使用 <code>type(s)</code> 查看实例的类。</p>
<h3 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h3><p><strong>谨慎使用！</strong></p>
<p>如果一个方法从多个超类继承（也就是说有两个具有相同名字的不同方法），那么必须要注意超类的顺序：先继承的类中的方法会重写后继承的类中的方法。</p>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>Python 用 <strong>异常对象</strong> 来表示异常情况。遇到错误后，会引发异常。如果异常对象并未被处理或捕捉，程序就会用所谓的 <strong>回溯</strong>（Traceback，一种错误信息）终止执行。</p>
<h2 id="引发异常"><a href="#引发异常" class="headerlink" title="引发异常"></a>引发异常</h2><p>为了引发异常，可以使用一个类（应该是 <code>Exception</code> 的子类）或者实例参数调用 <code>raise</code> 语句。使用类时，程序会自动创建实例。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; raise Exception</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line">Exception</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; rasie Exception(<span class="string">'hyperdrive overload'</span>)</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></div><div class="line">    rasie Exception(<span class="string">'hyperdrive overload'</span>)</div><div class="line">                  ^</div><div class="line"><span class="symbol">SyntaxError:</span> invalid syntax</div></pre></td></tr></table></figure>
<h2 id="捕捉异常并处理"><a href="#捕捉异常并处理" class="headerlink" title="捕捉异常并处理"></a>捕捉异常并处理</h2><p>为了捕捉异常并且做出一些错误处理（本例中只是输出一些更友好的错误信息），可以：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">x</span> = <span class="built_in">input</span>(<span class="string">'Enter the first number: '</span>)</div><div class="line">    <span class="keyword">y</span> = <span class="built_in">input</span>(<span class="string">'Enter the second number: '</span>)</div><div class="line">    <span class="keyword">print</span> <span class="keyword">x</span>/<span class="keyword">y</span>  </div><div class="line">except ZeroDivisionError:</div><div class="line">    <span class="keyword">print</span> <span class="string">"The second number can't be zero!"</span></div></pre></td></tr></table></figure>
<p>看起来用 <code>if</code> 语句检查 <code>y</code> 值更简单一些，本例中这样做的确很好，但是如果需要给程序加入更多的除法，那么就得给每个除法加个 <code>if</code> 语句，而使用 <code>try/except</code> 的话只需要一个错误处理器。</p>
<h2 id="传递异常"><a href="#传递异常" class="headerlink" title="传递异常"></a>传递异常</h2><p>用不带参数的 <code>raise</code> 来传递异常。在函数内引发异常，它就会被传递到函数被调用的地方。</p>
<p>考虑一下一个能处理 <code>ZeroDivisionError</code> 的计算器类。如果这个行为被激活，那么计算器就会打印错误信息，而不是让异常传播。如果在与用户进行交互的过程中使用，那么这就十分有必要。但是如果是在程序内部使用，引发异常会更利于程序做出相应处理——比如将错误抛出，让调用该段代码的地方处理该错误：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MuffledCalculator</span>:</span></div><div class="line">    muffled = <span class="keyword">False</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(self, expr)</span>:</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">return</span> eval(expr)</div><div class="line">        <span class="keyword">except</span> ZeroDivisionError:</div><div class="line">            <span class="keyword">if</span> self.muffled:</div><div class="line">                <span class="keyword">print</span> <span class="string">'Division by 0 is illegal!'</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">raise</span></div></pre></td></tr></table></figure>
<h2 id="多个-except-子句"><a href="#多个-except-子句" class="headerlink" title="多个 except 子句"></a>多个 <code>except</code> 子句</h2><p>异常处理不会搞乱原来的代码，而增加一大堆 <code>if</code> 语句检查可能的错误情况会让代码相当难读。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    x = input(<span class="string">'Enter the first number: '</span>)</div><div class="line">    y = input(<span class="string">'Enter the second numver: '</span>)</div><div class="line">    <span class="keyword">print</span> x/y</div><div class="line"><span class="keyword">except</span> ZeroDivisionError:</div><div class="line">    <span class="keyword">print</span> <span class="string">"The second number can't be zero!"</span></div><div class="line"><span class="keyword">except</span> TypeError:</div><div class="line">    <span class="keyword">print</span> <span class="string">"That wasn't a number, was it?"</span></div></pre></td></tr></table></figure>
<h2 id="用一个块捕捉多个异常"><a href="#用一个块捕捉多个异常" class="headerlink" title="用一个块捕捉多个异常"></a>用一个块捕捉多个异常</h2><p>用元组列出，注意不要忘记了元组的圆括号：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">x</span> = <span class="built_in">input</span>(<span class="string">'Enter the first number: '</span>)</div><div class="line">    <span class="keyword">y</span> = <span class="built_in">input</span>(<span class="string">'Enter the second numver: '</span>)</div><div class="line">    <span class="keyword">print</span> <span class="keyword">x</span>/<span class="keyword">y</span></div><div class="line">except (ZeroDivisionError, TypeError, NameError):</div><div class="line">    <span class="keyword">print</span> <span class="string">"..."</span></div></pre></td></tr></table></figure>
<h2 id="捕捉对象"><a href="#捕捉对象" class="headerlink" title="捕捉对象"></a>捕捉对象</h2><p>如果希望在 <code>except</code> 子句中访问异常对象本身，可以使用两个参数（注意，就算要捕捉到多个异常，也只需向 <code>except</code> 子句提供一个参数——一个元组）。比如，如果想让程序继续运行，但是又因为某种原因想记录下错误（比如只是打印给用户看）。下面的示例程序会打印异常（如果发生的话），但是程序会继续运行：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">x</span> = <span class="built_in">input</span>(<span class="string">'Enter the first number: '</span>)</div><div class="line">    <span class="keyword">y</span> = <span class="built_in">input</span>(<span class="string">'Enter the second numver: '</span>)</div><div class="line">    <span class="keyword">print</span> <span class="keyword">x</span>/<span class="keyword">y</span></div><div class="line">except (ZeroDivisionError, TypeError), <span class="keyword">e</span>:</div><div class="line">    <span class="keyword">print</span> <span class="keyword">e</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">'Hello, world!'</span></div></pre></td></tr></table></figure>
<p>运行结果如下：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Enter <span class="keyword">the</span> <span class="keyword">first</span> <span class="built_in">number</span>: <span class="number">1</span></div><div class="line">Enter <span class="keyword">the</span> <span class="keyword">second</span> numver: <span class="number">0</span></div><div class="line"><span class="keyword">integer</span> division <span class="keyword">or</span> modulo <span class="keyword">by</span> <span class="literal">zero</span></div><div class="line">Hello, world!</div></pre></td></tr></table></figure>
<blockquote>
<p>注意<br>在 Python3.0 之后，<code>except</code> 子句写作 <code>except (ZeroDivisionError, TypeError) as e:</code>。</p>
</blockquote>
<h2 id="全捕获"><a href="#全捕获" class="headerlink" title="全捕获"></a>全捕获</h2><p>总有些异常无法被预料到，如果要捕获所有异常，可以在 <code>except</code> 子句中忽略所有的异常类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">except</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">"..."</span></div></pre></td></tr></table></figure>
<blockquote>
<p>警告：<br>像这样捕捉所有异常是非常危险的，因为它会隐藏所有程序员未想到并且未做好准备处理的错误，它同样会捕捉用户终止执行的 <code>Ctrl+C</code> 企图，以及用 <code>sys.exit</code> 函数终止程序的企图，等等。这时用 <code>except Exception, e</code> 会更好些，或者对异常对象 <code>e</code> 进行一些检查。</p>
</blockquote>
<h2 id="万事大吉"><a href="#万事大吉" class="headerlink" title="万事大吉"></a>万事大吉</h2><p>可以给 <code>try/except</code> 语句加上 <code>else</code> 子句。如果没有引发异常，<code>else</code> 语句就会被执行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">'A simple task'</span></div><div class="line"><span class="keyword">except</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">'What? Something went wrong?'</span></div><div class="line"><span class="keyword">else</span>:</div><div class="line">    <span class="keyword">print</span> <span class="string">'Ah...It went as planned.'</span></div></pre></td></tr></table></figure>
<p>运行后会得到：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Root:Python2 $ python2 elseException<span class="selector-class">.py</span></div><div class="line">A simple task</div><div class="line">Ah..<span class="selector-class">.It</span> went as planned.</div></pre></td></tr></table></figure>
<p>看下面这个示例：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        x = input(<span class="string">'Enter the first number: '</span>)</div><div class="line">        y = input(<span class="string">'Enter the second number: '</span>)</div><div class="line">        value = x/y</div><div class="line">        <span class="keyword">print</span> <span class="string">'x/y is'</span>, value</div><div class="line">    except <span class="keyword">Exception</span> e:</div><div class="line">        <span class="keyword">print</span> <span class="string">'Invalid input:'</span>, e</div><div class="line">        <span class="keyword">print</span> <span class="string">'Please try again'</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">break</span></div></pre></td></tr></table></figure>
<p>只要有错误发生，程序就会不断要求重新输入。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>无论是否发生异常，<code>finally:</code> 中的子句都会执行。</p>
<h2 id="异常之禅"><a href="#异常之禅" class="headerlink" title="异常之禅"></a>异常之禅</h2><p>如果知道某段代码可能会导致某种异常，而又不希望程序以堆栈跟踪的形式终止，那么就根据需要添加 <code>try/except</code> 或者 <code>try/finally</code> 语句（或者它们的组合）进行处理。</p>
<p>有些时候，条件语句可以实现和异常处理同样的功能，但是条件语句可能在自然性和可读性上差血。而从另一方面来看，某些程序中使用 <code>if/else</code> 实现会比使用 <code>try/except</code> 要好。</p>
<p>假设有一个字典，我们希望打印出存储在特定的键下面的值。如果该键不存在，那么什么也不做。代码可能像下面这样写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">describePerson</span><span class="params">(person)</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'Description of'</span>, person[<span class="string">'name'</span>]</div><div class="line">    <span class="keyword">print</span> <span class="string">'Age:'</span>, person[<span class="string">'age'</span>]</div><div class="line">    <span class="keyword">if</span> <span class="string">'occupation'</span> <span class="keyword">in</span> person:</div><div class="line">        <span class="keyword">print</span> <span class="string">'Occupation:'</span>, person[<span class="string">'occupation'</span>]</div></pre></td></tr></table></figure>
<p>如果给程序提供包含名字 Throatwobbler Mangrove 和年龄 42（没有职业）的字典的函数，会得到如下输出：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Description <span class="keyword">of</span> Throatwobbler Mangrove</div><div class="line">Age: <span class="number">42</span></div></pre></td></tr></table></figure>
<p>如果添加了职业 camper，会得到如下输出：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Description of Throatwobbler Mangrove</div><div class="line"><span class="symbol">Age:</span> <span class="number">42</span></div><div class="line"><span class="symbol">Occupation:</span> camper</div></pre></td></tr></table></figure>
<p>代码非常直观，但是不够简洁。程序会两次查找 <code>occupation</code> 键——其中一次用来查看键是否存在（在条件语句中），另一次获得值。</p>
<p>另一个解决方案如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">describePerson</span><span class="params">(person)</span>:</span></div><div class="line">    <span class="keyword">print</span> <span class="string">'Description of'</span>, person[<span class="string">'name'</span>]</div><div class="line">    <span class="keyword">print</span> <span class="string">'Age:'</span>, person[<span class="string">'age'</span>]</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">'Occupation: '</span> + person[<span class="string">'occupation'</span>]</div><div class="line">    <span class="keyword">except</span> KeyError: <span class="keyword">pass</span></div></pre></td></tr></table></figure>
<blockquote>
<p>注意：<br>这里打印职业时用的 <code>+</code> 而不是 <code>,</code>，否则字符串 <code>&#39;Occupation:</code> 在异常引发之前就会被输出。</p>
</blockquote>
<p><code>try/except</code> 语句比 <code>if/else</code> 语句更加 Pythonic。</p>
<blockquote>
<p>请求宽恕易于请求许可。<br>在做一件事时去处理可能发生的错误，而不是在开始做事之前做大量的检查。</p>
</blockquote>
<h1 id="魔法方法"><a href="#魔法方法" class="headerlink" title="魔法方法"></a>魔法方法</h1><h2 id="重写构造方法"><a href="#重写构造方法" class="headerlink" title="重写构造方法"></a>重写构造方法</h2><p>推荐使用第二种——Python3.0 之后普遍使用的方法。</p>
<h3 id="调用未绑定的超类构造方法"><a href="#调用未绑定的超类构造方法" class="headerlink" title="调用未绑定的超类构造方法"></a>调用未绑定的超类构造方法</h3><p>使用 <code>ParentClass.__init__(self)</code>。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">self</span>.hungry = True</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="symbol">hungry:</span></div><div class="line">            print <span class="string">'Aaaah...'</span></div><div class="line">            <span class="keyword">self</span>.hungry = False</div><div class="line">        <span class="symbol">else:</span></div><div class="line">            print <span class="string">'No, thanks!'</span></div><div class="line"></div><div class="line">b = Bird()</div><div class="line">b.eat()</div><div class="line">b.eat()</div><div class="line">print <span class="string">"---------------"</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SongBird</span>(<span class="title">Bird</span>):</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        Bird.__init_<span class="number">_</span>(<span class="keyword">self</span>)</div><div class="line">        <span class="keyword">self</span>.sound = <span class="string">'Squaqk!'</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sing</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        print <span class="keyword">self</span>.sound</div><div class="line"></div><div class="line">sb = SongBird()</div><div class="line">sb.sing()</div><div class="line">sb.eat()</div><div class="line">sb.eat()</div></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ python2 magicMethod.py</div><div class="line">Aaaah...</div><div class="line"><span class="section">No, thanks!</span></div><div class="line">---------------</div><div class="line">Squaqk!</div><div class="line">Aaaah...</div><div class="line">No, thanks!</div></pre></td></tr></table></figure>
<h3 id="使用-super"><a href="#使用-super" class="headerlink" title="使用 super()"></a>使用 <code>super()</code></h3><p>使用 <code>super(CurrentClass, self)</code>。该函数返回对象的任何方法都是父类的方法。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">__metaclass_<span class="number">_</span> = type <span class="comment"># super() 只在新式类中起作用</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">self</span>.hungry = True</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.<span class="symbol">hungry:</span></div><div class="line">            print <span class="string">'Aaaah...'</span></div><div class="line">            <span class="keyword">self</span>.hungry = False</div><div class="line">        <span class="symbol">else:</span></div><div class="line">            print <span class="string">'No, thanks!'</span></div><div class="line"></div><div class="line">b = Bird()</div><div class="line">b.eat()</div><div class="line">b.eat()</div><div class="line">print <span class="string">"---------------"</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SongBird</span>(<span class="title">Bird</span>):</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">super</span>(SongBird, <span class="keyword">self</span>).__init_<span class="number">_</span>()</div><div class="line">        <span class="keyword">self</span>.sound = <span class="string">'Squaqk!'</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sing</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        print <span class="keyword">self</span>.sound</div><div class="line"></div><div class="line">sb = SongBird()</div><div class="line">sb.sing()</div><div class="line">sb.eat()</div><div class="line">sb.eat()</div></pre></td></tr></table></figure>
<blockquote>
<p>Python3.0 之后，<code>super()</code> 可以不用任何参数。</p>
</blockquote>
<p><code>super()</code> 返回一个 <code>super</code> 对象，这个对象负责进行方法解析，当对其特性进行访问时，它会查找所有超类（以及超类的超类），直到找到所需的特性为止（或者引发一个 <code>AttributeError</code> 异常）。</p>
<h2 id="成员访问"><a href="#成员访问" class="headerlink" title="成员访问"></a>成员访问</h2><h3 id="基本的序列和映射规则"><a href="#基本的序列和映射规则" class="headerlink" title="基本的序列和映射规则"></a>基本的序列和映射规则</h3><blockquote>
<p>The word <em>protocol</em> is often used in Python to describe the rules governing some form of behavior. This is somewhat similar to the notion of interfaces. The protocol says something about which methods you should implement and what those methods should do. Because polymorphism in Python is based on only the object’s behavior (and not on its ancestry, for example, its class or superclass, and so forth), this is an important concept: where other languages might require an object to a certain class or to implement a certain interface, Python often simply requires it to follow some given protocol. So, to be a sequence, all you have to do is follow the sequence protocol.</p>
</blockquote>
<p><code>protocol</code> 说明了应该实现何种方法和这些方法应该做什么。比如只需要遵守序列给定的 <code>protocol</code>，就可以成为一个序列。</p>
<p>序列和映射是对象的集合。为了实现它们基本的规则，如果对象是不可变的，那么就需要使用两个魔法方法，如果是可变的则需要使用 4 个。</p>
<ol>
<li><p><code>__len__(self)</code>：返回集合中所含项目的数量。如果 <code>__len__</code> 返回 0（并且没有实现重写该行为的 <code>__nonzero__</code>）对象会被当作一个布尔变量中的假值（空的列表，元组，字符串和字典等）进行处理。</p>
</li>
<li><p><code>__getitem__(self, key)</code>：这个方法返回与所给键对应的值。对于序列，键是 <code>0</code> 到 <code>n-1</code> 的整数（或相应的负数，<code>x[-n]</code> 和 <code>x[len(x)-n]</code> 一样），对于映射来说，键更加自由。</p>
</li>
<li><code>__setitem__(self, key, value)</code></li>
<li><code>__delitem__(self, key)</code>：在对一部分对象使用 <code>del</code> 语句时被调用，同时必须删除和元素相关的键。这个方法也是为可修改的对象定义的。</li>
</ol>
<p>附加要求：</p>
<ol>
<li>如果键是不合适的类型（例如，对序列使用字符串作为键），会引发一个 <code>TypeError</code> 异常。</li>
<li>如果序列的索引是正确的类型，但超出了范围，应该引发一个 <code>IndexError</code>。</li>
</ol>
<p>实现一个理论上无限大的算术序列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">checkIndex</span><span class="params">(key)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    Is the given key an acceptable index?</div><div class="line"></div><div class="line">    To be acceptable, the key should be a non-negative integer.</div><div class="line">    If it is not an integer, a TypeError is raised;</div><div class="line">    if it is negative, an IndexError is raised</div><div class="line">    (since the sequence is of infinite lenth).</div><div class="line">    """</div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> isinstance(key, (int, long)): <span class="keyword">raise</span> TypeError</div><div class="line">    <span class="keyword">if</span> key &lt; <span class="number">0</span>: <span class="keyword">raise</span> IndexError</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArithmeticSequence</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, start = <span class="number">0</span>, step = <span class="number">1</span>)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        Initialize the arithmetic sequence.</div><div class="line"></div><div class="line">        start - the first value in the sequence</div><div class="line">        step - the difference between two adjacent values</div><div class="line">        changed - a dictionary of values that have been modified by the user</div><div class="line">        """</div><div class="line">        self.start = start</div><div class="line">        self.step = step</div><div class="line">        self.changed = &#123;&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, key)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        Get an item from the arithmetic sequence.</div><div class="line">        """</div><div class="line">        checkIndex(key)</div><div class="line"></div><div class="line">        <span class="keyword">try</span>: <span class="keyword">return</span> self.changed[key]    <span class="comment"># Modifies?</span></div><div class="line">        <span class="keyword">except</span> KeyError:</div><div class="line">            <span class="keyword">return</span> self.start + key * self.step</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self, key, value)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        Change an item in the arithmetic sequence.</div><div class="line">        """</div><div class="line">        checkIndex(key)</div><div class="line">        self.changed[key] = value</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    s = ArithmeticSequence(<span class="number">1</span>, <span class="number">2</span>)</div><div class="line">    <span class="keyword">print</span> s[<span class="number">4</span>]</div><div class="line">    s[<span class="number">4</span>] = <span class="number">2</span></div><div class="line">    <span class="keyword">print</span> s[<span class="number">4</span>]</div><div class="line">    <span class="keyword">print</span> s[<span class="number">5</span>]</div><div class="line"></div><div class="line">    <span class="keyword">del</span> s[<span class="number">4</span>]</div></pre></td></tr></table></figure>
<p>没有实现 <code>__del__()</code> 的原因是希望删除元素是非法的，执行结果：</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">9</div><div class="line">2</div><div class="line">11</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"sequenceProtocol.py"</span>, line 47, in &lt;module&gt;</div><div class="line">    del s[4]</div><div class="line">AttributeError: ArithmeticSequence<span class="built_in"> instance </span>has no attribute '__delitem__'</div></pre></td></tr></table></figure>
<p>一般避免使用 <code>isinstance()</code> 函数（因为类或类型检查与 Python 中多态的目标背道而驰）。因为 Python 的 language reference 上明确指出索引必须是整数（包括长整数），所以上面的代码才会如此使用。遵守标准是使用类型检查的（很少的）正当理由之一。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><h3 id="property-函数"><a href="#property-函数" class="headerlink" title="property() 函数"></a><code>property()</code> 函数</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">__metaclass_<span class="number">_</span> = type</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">self</span>.width = <span class="number">0</span></div><div class="line">        <span class="keyword">self</span>.height = <span class="number">0</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setSize</span><span class="params">(<span class="keyword">self</span>, size)</span></span>:</div><div class="line">        <span class="keyword">self</span>.width, <span class="keyword">self</span>.height = size</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getSize</span><span class="params">(<span class="keyword">self</span>)</span></span>:</div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.width, <span class="keyword">self</span>.height</div><div class="line"></div><div class="line">    size = property(getSize, setSize)    </div><div class="line"><span class="keyword">if</span> __name_<span class="number">_</span> == <span class="string">'__main__'</span>:</div><div class="line">    r = Rectangle()</div><div class="line">    r.width = <span class="number">10</span></div><div class="line">    r.height = <span class="number">5</span></div><div class="line">    print r.size</div><div class="line">    r.size = <span class="number">150</span>, <span class="number">100</span></div><div class="line">    print r.width, r.height</div></pre></td></tr></table></figure>
<p>执行结果</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(<span class="number">10</span>, <span class="number">5</span>)</div><div class="line"><span class="number">150</span> <span class="number">100</span></div></pre></td></tr></table></figure>
<h3 id="静态方法和类成员方法"><a href="#静态方法和类成员方法" class="headerlink" title="静态方法和类成员方法"></a>静态方法和类成员方法</h3><p>静态方法的定义没有 <code>self</code> 参数，且能够被类本身直接调用。类方法在定义hi需要名为 <code>cls</code> 的类似于 <code>self</code> 的参数，可以直接被类调用，<code>cls</code> 参数是自动被绑定到类的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">__metaclass__ = type</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">smeth</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'This is a static method'</span></div><div class="line">    smeth = staticmethod(smeth)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cmeth</span><span class="params">(cls)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'This is a class method of'</span>, cls</div><div class="line">    cmeth = classmethod(cmeth)</div><div class="line"></div><div class="line">MyClass.smeth()</div><div class="line">MyClass.cmeth()</div><div class="line"></div><div class="line">a = MyClass()</div><div class="line">a.smeth()</div><div class="line">a.cmeth()</div></pre></td></tr></table></figure>
<p>手动包装和替换方法的技术看起来有点单调，在 Python2.4 之后，引入了叫作 <strong>装饰器</strong> 的新语法。使用艾特操作符 @，在方法（或函数）的的上方将装饰起列出，从而指定一个或者更多的装饰器（多个装饰器在应用时的顺序与指定顺序相反）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">__metaclass__ = type</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></div><div class="line"><span class="meta">    @staticmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">smeth</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'This is a static method'</span></div><div class="line">    <span class="comment"># smeth = staticmethod(smeth)</span></div><div class="line"></div><div class="line"><span class="meta">    @classmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cmeth</span><span class="params">(cls)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'This is a class method of'</span>, cls</div><div class="line">    <span class="comment"># cmeth = classmethod(cmeth)</span></div><div class="line"></div><div class="line">MyClass.smeth()</div><div class="line">MyClass.cmeth()</div><div class="line"></div><div class="line">a = MyClass()</div><div class="line">a.smeth()</div><div class="line">a.cmeth()</div></pre></td></tr></table></figure>
<p>执行结果：</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">This <span class="keyword">is</span> a <span class="keyword">static</span> method</div><div class="line">This <span class="keyword">is</span> a <span class="keyword">class</span> method <span class="keyword">of</span> &lt;<span class="keyword">class</span> <span class="string">'__main__.MyClass'</span>&gt;</div><div class="line">This <span class="keyword">is</span> a <span class="keyword">static</span> method</div><div class="line">This <span class="keyword">is</span> a <span class="keyword">class</span> method <span class="keyword">of</span> &lt;<span class="keyword">class</span> <span class="string">'__main__.MyClass'</span>&gt;</div></pre></td></tr></table></figure>
<h3 id="getattr-setattr-等"><a href="#getattr-setattr-等" class="headerlink" title="__getattr__(), __setattr__() 等"></a><code>__getattr__()</code>, <code>__setattr__()</code> 等</h3><p>为了在访问特性的时候可以执行代码，必须使用一些魔法方法。</p>
<ul>
<li><code>__getattribute__(self, name)</code>：当特性 <code>name</code> 被访问时自动被调用（只能在新式类中使用）。</li>
<li><code>__getattr__(self, name)</code>：当特性 <code>name</code> 被访问且对象没有相应的特性时被自动调用。</li>
<li><code>__setattrj__(self, name, value)</code>：当试图给特性 <code>name</code> 赋值时会被自动调用。</li>
<li><code>__delattr__(self, name)</code>: 当试图删除特性 <code>name</code> 时被自动调用。</li>
</ul>
<p>尽管和使用 <code>property</code> 相比有点复杂（而且在某些方面效率更低），但这特殊方法是很强大的，因为可以对处理很多属性的方法进行再编码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.width = <span class="number">0</span></div><div class="line">        self.height = <span class="number">0</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, name, value)</span>:</span></div><div class="line">        <span class="keyword">if</span> name == <span class="string">'size'</span>:</div><div class="line">            self.width, self, height = value</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">        self.__dict__[name] = value</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, name)</span>:</span></div><div class="line">        <span class="keyword">if</span> name == <span class="string">'size'</span>:</div><div class="line">            <span class="keyword">return</span> self.width, self.height</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">raise</span> AttributeError</div></pre></td></tr></table></figure>
<p>注意：</p>
<ol>
<li><code>__setattr__()</code> 方法在所涉及到的属性不是 <code>size</code> 时也会被调用。因此，这个方法必须考虑新增属性的情况。为了避免 <code>__setattr__()</code> 方法被再次调用（从而使程序陷入死循环），<code>__dict__()</code> 被用来代替普通的属性赋值操作。</li>
<li><code>__getattr__()</code> 只在普通的属性没有被找到的时候调用，这就是说如果给定的名字不是 <code>size</code>，这个特性不存在，这个方法会引发一个 <code>AttributeError</code> 异常。</li>
</ol>
<blockquote>
<p>就像死循环陷阱和 <code>__setattr__()</code> 有关系，还有一个陷阱和 <code>__getattribute__()</code> 有关系。因为 <code>__getattribute__()</code> 拦截所有特性的访问，也拦截对 <code>__dict__</code> 的访问！访问 <code>__getattribute__()</code> 中与 <code>self</code> 相关的特性时，使用超类的 <code>__getattribute__()</code> 方法（使用 <code>super()</code>）是唯一安全的途径。</p>
</blockquote>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><h3 id="迭代器规则"><a href="#迭代器规则" class="headerlink" title="迭代器规则"></a>迭代器规则</h3><p>迭代——重复做一些事很多次。到现在为止只是在 <code>for</code> 循环中对序列和字典进行迭代，但实际上也能对其他的对象进行迭代：实现 <code>__iter__()</code> 方法的对象。</p>
<p><code>__iter__()</code> 返回一个迭代器 <em>iterator</em>，所谓的迭代器就是具有 <code>next()</code> 的对象。在调用 <code>next()</code> 时，迭代器会返回它的下一个值。如果 <code>next()</code> 方法被调用，但迭代器没有值可以返回，就会引发 <code>StopIteration</code> 异常。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/uploads/wechat-reward-image.png" alt="VectorLu WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/uploads/alipay-reward-image.png" alt="VectorLu Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python2/" rel="tag"># Python2</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/29/PythonAlgorithm/" rel="next" title="Algorithm in Python Notes">
                <i class="fa fa-chevron-left"></i> Algorithm in Python Notes
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/25/GamePlayingWithAI/" rel="prev" title="GamePlayingWithAI">
                GamePlayingWithAI <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2017/04/21/Python2LearningNotes/"
     data-title="Python2 学习笔记"
     data-content=""
     data-url="http://vectorlu.com/2017/04/21/Python2LearningNotes/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          

  <p>热评文章</p>
  <div class="ds-top-threads" data-range="weekly" data-num-items="4"></div>


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/04/21/Python2LearningNotes/"
           data-title="Python2 学习笔记" data-url="http://vectorlu.com/2017/04/21/Python2LearningNotes/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="VectorLu" />
          <p class="site-author-name" itemprop="name">VectorLu</p>
          <p class="site-description motion-element" itemprop="description">To pretend myself not an artificial idiocy (o_0)</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">41</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">32</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/VectorLu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/VectorLu97" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/2303412532/profile?topnav=1&wvr=6&is_all=1" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.douban.com/people/vectorlu/" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/vectorlu" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://wdxtub.com" title="wdxtub" target="_blank">wdxtub</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基础知识"><span class="nav-number">1.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#保存并执行程序"><span class="nav-number">1.1.</span> <span class="nav-text">保存并执行程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#用命令行执行-Python-脚本"><span class="nav-number">1.1.1.</span> <span class="nav-text">用命令行执行 Python 脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#让脚本像普通程序一样运行"><span class="nav-number">1.1.2.</span> <span class="nav-text">让脚本像普通程序一样运行</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串"><span class="nav-number">1.2.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#input-与-raw-input"><span class="nav-number">1.2.1.</span> <span class="nav-text">input() 与 raw_input()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据结构"><span class="nav-number">2.</span> <span class="nav-text">数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#通用序列操作"><span class="nav-number">2.1.</span> <span class="nav-text">通用序列操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分片"><span class="nav-number">2.1.1.</span> <span class="nav-text">分片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#相加"><span class="nav-number">2.1.2.</span> <span class="nav-text">相加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#相乘"><span class="nav-number">2.1.3.</span> <span class="nav-text">相乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#in-判断"><span class="nav-number">2.1.4.</span> <span class="nav-text">in 判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#长度，最大值，最小值"><span class="nav-number">2.1.5.</span> <span class="nav-text">长度，最大值，最小值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#list"><span class="nav-number">2.2.</span> <span class="nav-text">list</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串-1"><span class="nav-number">3.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串格式化"><span class="nav-number">3.1.</span> <span class="nav-text">字符串格式化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用字符串方法"><span class="nav-number">3.2.</span> <span class="nav-text">常用字符串方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#find-方法"><span class="nav-number">3.2.1.</span> <span class="nav-text">find() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#join-方法"><span class="nav-number">3.2.2.</span> <span class="nav-text">join() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#split-方法"><span class="nav-number">3.2.3.</span> <span class="nav-text">split() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#strip-方法"><span class="nav-number">3.2.4.</span> <span class="nav-text">strip() 方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字典"><span class="nav-number">4.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#使用"><span class="nav-number">4.1.</span> <span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字典的格式化字符串"><span class="nav-number">4.1.1.</span> <span class="nav-text">字典的格式化字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#clear-方法"><span class="nav-number">4.1.2.</span> <span class="nav-text">clear() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#copy-方法"><span class="nav-number">4.1.3.</span> <span class="nav-text">copy() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fromkeys-方法"><span class="nav-number">4.1.4.</span> <span class="nav-text">fromkeys() 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#get-和-setdefault"><span class="nav-number">4.1.5.</span> <span class="nav-text">get() 和 setdefault()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#items-和-iteritems"><span class="nav-number">4.1.6.</span> <span class="nav-text">items() 和 iteritems()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pop-和-popitem"><span class="nav-number">4.1.7.</span> <span class="nav-text">pop() 和 popitem()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#update-方法"><span class="nav-number">4.1.8.</span> <span class="nav-text">update() 方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#条件、循环和其他语句"><span class="nav-number">5.</span> <span class="nav-text">条件、循环和其他语句</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#导入"><span class="nav-number">5.1.</span> <span class="nav-text">导入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#赋值魔法"><span class="nav-number">5.2.</span> <span class="nav-text">赋值魔法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#序列解包"><span class="nav-number">5.2.1.</span> <span class="nav-text">序列解包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#条件和条件语句"><span class="nav-number">5.3.</span> <span class="nav-text">条件和条件语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一些迭代工具"><span class="nav-number">5.4.</span> <span class="nav-text">一些迭代工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#并行迭代"><span class="nav-number">5.4.1.</span> <span class="nav-text">并行迭代</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编号迭代"><span class="nav-number">5.4.2.</span> <span class="nav-text">编号迭代</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#翻转和排序迭代"><span class="nav-number">5.4.3.</span> <span class="nav-text">翻转和排序迭代</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用-break"><span class="nav-number">5.5.</span> <span class="nav-text">使用 break</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环中的-else-子句"><span class="nav-number">5.6.</span> <span class="nav-text">循环中的 else 子句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#列表推导式"><span class="nav-number">5.7.</span> <span class="nav-text">列表推导式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他"><span class="nav-number">5.8.</span> <span class="nav-text">其他</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#执行和求值字符串"><span class="nav-number">5.9.</span> <span class="nav-text">执行和求值字符串</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#抽象"><span class="nav-number">6.</span> <span class="nav-text">抽象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#作用域"><span class="nav-number">6.1.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数式编程"><span class="nav-number">6.2.</span> <span class="nav-text">函数式编程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象"><span class="nav-number">6.3.</span> <span class="nav-text">面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#多重继承"><span class="nav-number">6.3.1.</span> <span class="nav-text">多重继承</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常"><span class="nav-number">7.</span> <span class="nav-text">异常</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#引发异常"><span class="nav-number">7.1.</span> <span class="nav-text">引发异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#捕捉异常并处理"><span class="nav-number">7.2.</span> <span class="nav-text">捕捉异常并处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#传递异常"><span class="nav-number">7.3.</span> <span class="nav-text">传递异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多个-except-子句"><span class="nav-number">7.4.</span> <span class="nav-text">多个 except 子句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用一个块捕捉多个异常"><span class="nav-number">7.5.</span> <span class="nav-text">用一个块捕捉多个异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#捕捉对象"><span class="nav-number">7.6.</span> <span class="nav-text">捕捉对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全捕获"><span class="nav-number">7.7.</span> <span class="nav-text">全捕获</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#万事大吉"><span class="nav-number">7.8.</span> <span class="nav-text">万事大吉</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最后"><span class="nav-number">7.9.</span> <span class="nav-text">最后</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异常之禅"><span class="nav-number">7.10.</span> <span class="nav-text">异常之禅</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#魔法方法"><span class="nav-number">8.</span> <span class="nav-text">魔法方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#重写构造方法"><span class="nav-number">8.1.</span> <span class="nav-text">重写构造方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#调用未绑定的超类构造方法"><span class="nav-number">8.1.1.</span> <span class="nav-text">调用未绑定的超类构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-super"><span class="nav-number">8.1.2.</span> <span class="nav-text">使用 super()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#成员访问"><span class="nav-number">8.2.</span> <span class="nav-text">成员访问</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本的序列和映射规则"><span class="nav-number">8.2.1.</span> <span class="nav-text">基本的序列和映射规则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#属性"><span class="nav-number">8.3.</span> <span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#property-函数"><span class="nav-number">8.3.1.</span> <span class="nav-text">property() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态方法和类成员方法"><span class="nav-number">8.3.2.</span> <span class="nav-text">静态方法和类成员方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#getattr-setattr-等"><span class="nav-number">8.3.3.</span> <span class="nav-text">__getattr__(), __setattr__() 等</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代器"><span class="nav-number">8.4.</span> <span class="nav-text">迭代器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器规则"><span class="nav-number">8.4.1.</span> <span class="nav-text">迭代器规则</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">VectorLu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vectorlu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  
  


  

  

  


  
</body>
</html>
